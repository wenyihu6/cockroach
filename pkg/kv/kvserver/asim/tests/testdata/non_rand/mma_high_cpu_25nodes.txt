skip_under_ci
----

gen_cluster nodes=25 node_cpu_rate_capacity=800000
----
WARNING: node CPU capacity of â‰ˆ0.00 cores is likely accidental

setting split_queue_enabled=false
----

# This workload will be initially evenly distributed over the cluster.
gen_ranges ranges=50 min_key=0 max_key=10000
----

gen_load rate=15000 rw_ratio=0.95 min_block=100 max_block=100 request_cpu_per_access=100 raft_cpu_per_write=20 min_key=0 max_key=10000
----

# Another workload is added over the second half of the keyspace, which is initially
# only on s1-s3.
gen_ranges ranges=50 min_key=10001 max_key=20000 placement_type=skewed
----

gen_load rate=15000 rw_ratio=0.95 min_block=1 max_block=1 request_cpu_per_access=100000 raft_cpu_per_write=20000 min_key=10001 max_key=20000
----

eval duration=25m samples=1 seed=42 cfgs=(mma-only) metrics=(cpu,write_bytes_per_second,replicas,leases)
----
cpu#1: last:  [s1=132776725, s2=128257329, s3=123770649, s4=122596190, s5=91625706, s6=60965972, s7=30647421, s8=60611228, s9=30997640, s10=61075507, s11=30456110, s12=62497224, s13=31639978, s14=61099891, s15=60592157, s16=60809110, s17=30733323, s18=30684437, s19=60713391, s20=60665876, s21=60700274, s22=60713602, s23=30446450, s24=30722223, s25=30596573] (stddev=32593490.83, mean=61855799.44, sum=1546394986)
leases#1: first: [s1=28, s2=14, s3=4, s4=3, s5=3, s6=2, s7=2, s8=2, s9=2, s10=2, s11=3, s12=2, s13=3, s14=3, s15=2, s16=3, s17=3, s18=3, s19=2, s20=2, s21=2, s22=3, s23=3, s24=3, s25=1] (stddev=5.43, mean=4.00, sum=100)
leases#1: last:  [s1=4, s2=4, s3=4, s4=4, s5=4, s6=4, s7=4, s8=4, s9=4, s10=4, s11=4, s12=4, s13=4, s14=4, s15=4, s16=4, s17=4, s18=4, s19=4, s20=4, s21=4, s22=4, s23=4, s24=4, s25=4] (stddev=0.00, mean=4.00, sum=100)
replicas#1: first: [s1=56, s2=44, s3=25, s4=16, s5=12, s6=9, s7=8, s8=7, s9=7, s10=7, s11=7, s12=7, s13=7, s14=8, s15=7, s16=8, s17=7, s18=8, s19=7, s20=7, s21=7, s22=7, s23=7, s24=8, s25=7] (stddev=11.97, mean=12.00, sum=300)
replicas#1: last:  [s1=48, s2=33, s3=19, s4=15, s5=11, s6=9, s7=8, s8=8, s9=10, s10=9, s11=7, s12=14, s13=12, s14=9, s15=8, s16=9, s17=8, s18=8, s19=8, s20=8, s21=8, s22=8, s23=7, s24=8, s25=8] (stddev=9.09, mean=12.00, sum=300)
write_bytes_per_second#1: last:  [s1=8158, s2=7922, s3=9152, s4=9136, s5=9066, s6=9030, s7=9006, s8=9020, s9=10553, s10=9045, s11=8997, s12=9070, s13=10575, s14=9051, s15=9071, s16=9069, s17=9027, s18=9030, s19=9020, s20=9005, s21=9032, s22=9035, s23=9024, s24=9056, s25=9047] (stddev=515.65, mean=9087.88, sum=227197)
artifacts[mma-only]: c100561b6d2ac07e
