skip_under_ci
----

gen_cluster nodes=25 node_cpu_rate_capacity=800000
----
WARNING: node CPU capacity of â‰ˆ0.00 cores is likely accidental

setting split_queue_enabled=false
----

# This workload will be initially evenly distributed over the cluster.
gen_ranges ranges=50 min_key=0 max_key=10000
----

gen_load rate=15000 rw_ratio=0.95 min_block=100 max_block=100 request_cpu_per_access=100 raft_cpu_per_write=20 min_key=0 max_key=10000
----

# Another workload is added over the second half of the keyspace, which is initially
# only on s1-s3.
gen_ranges ranges=50 min_key=10001 max_key=20000 placement_type=skewed
----

gen_load rate=15000 rw_ratio=0.95 min_block=1 max_block=1 request_cpu_per_access=100000 raft_cpu_per_write=20000 min_key=10001 max_key=20000
----

eval duration=25m samples=1 seed=42 cfgs=(mma-only) metrics=(cpu,write_bytes_per_second,replicas,leases)
----
cpu#1: last:  [s1=63304448, s2=63865946, s3=63492185, s4=62736641, s5=61842196, s6=62106162, s7=61896978, s8=61837650, s9=61157683, s10=61947984, s11=61327161, s12=61358324, s13=61478764, s14=61383229, s15=61555377, s16=61359512, s17=61290925, s18=61468838, s19=61221875, s20=61387008, s21=61388719, s22=61470640, s23=61830289, s24=62206913, s25=61621791] (stddev=721594.99, mean=61861489.52, sum=1546537238)
cpu#1: thrash_pct: [s1=5%, s2=5%, s3=18%, s4=12%, s5=3%, s6=3%, s7=3%, s8=3%, s9=3%, s10=3%, s11=3%, s12=11%, s13=3%, s14=3%, s15=2%, s16=11%, s17=3%, s18=11%, s19=3%, s20=3%, s21=12%, s22=26%, s23=3%, s24=3%, s25=11%]  (sum=165%)
leases#1: first: [s1=28, s2=14, s3=4, s4=3, s5=3, s6=2, s7=2, s8=2, s9=2, s10=2, s11=3, s12=2, s13=3, s14=3, s15=2, s16=3, s17=3, s18=3, s19=2, s20=2, s21=2, s22=3, s23=3, s24=3, s25=1] (stddev=5.43, mean=4.00, sum=100)
leases#1: last:  [s1=3, s2=2, s3=2, s4=4, s5=3, s6=4, s7=4, s8=3, s9=4, s10=4, s11=5, s12=5, s13=5, s14=5, s15=4, s16=4, s17=4, s18=4, s19=4, s20=5, s21=5, s22=4, s23=5, s24=5, s25=3] (stddev=0.89, mean=4.00, sum=100)
leases#1: thrash_pct: [s1=0%, s2=0%, s3=15%, s4=8%, s5=7%, s6=0%, s7=0%, s8=0%, s9=0%, s10=0%, s11=0%, s12=8%, s13=0%, s14=0%, s15=0%, s16=8%, s17=0%, s18=8%, s19=0%, s20=0%, s21=8%, s22=22%, s23=0%, s24=0%, s25=8%]  (sum=92%)
replicas#1: first: [s1=56, s2=44, s3=25, s4=16, s5=12, s6=9, s7=8, s8=7, s9=7, s10=7, s11=7, s12=7, s13=7, s14=8, s15=7, s16=8, s17=7, s18=8, s19=7, s20=7, s21=7, s22=7, s23=7, s24=8, s25=7] (stddev=11.97, mean=12.00, sum=300)
replicas#1: last:  [s1=12, s2=13, s3=13, s4=11, s5=11, s6=13, s7=12, s8=13, s9=12, s10=12, s11=12, s12=12, s13=12, s14=11, s15=12, s16=11, s17=12, s18=11, s19=12, s20=13, s21=11, s22=11, s23=13, s24=13, s25=12] (stddev=0.75, mean=12.00, sum=300)
replicas#1: thrash_pct: [s1=0%, s2=0%, s3=0%, s4=0%, s5=0%, s6=0%, s7=0%, s8=0%, s9=0%, s10=0%, s11=0%, s12=0%, s13=0%, s14=0%, s15=0%, s16=5%, s17=0%, s18=5%, s19=0%, s20=0%, s21=0%, s22=0%, s23=0%, s24=0%, s25=5%]  (sum=14%)
write_bytes_per_second#1: last:  [s1=1657, s2=194, s3=1671, s4=3127, s5=7584, s6=9088, s7=9064, s8=10579, s9=12078, s10=9091, s11=12046, s12=12033, s13=12053, s14=10567, s15=10624, s16=9099, s17=12077, s18=9075, s19=12034, s20=13516, s21=10563, s22=9080, s23=10602, s24=9130, s25=10597] (stddev=3538.49, mean=9089.16, sum=227229)
write_bytes_per_second#1: thrash_pct: [s1=22%, s2=16%, s3=27%, s4=27%, s5=47%, s6=68%, s7=65%, s8=63%, s9=47%, s10=65%, s11=45%, s12=54%, s13=50%, s14=69%, s15=41%, s16=40%, s17=74%, s18=93%, s19=48%, s20=57%, s21=51%, s22=40%, s23=53%, s24=69%, s25=78%]  (sum=1309%)
artifacts[mma-only]: cd416741f27065af
