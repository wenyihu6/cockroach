     0.000ms      0.000ms    === operation:mma.ComputeChanges gid:692 _verbose:1 name:high_cpu/mma-only asim: tick:Mar 21 11:01:03.000
     0.021ms      0.021ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:138 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s] operation for pendingChange={{144 [0x14006d19680 0x14006d19720]} {77555968 200009.81818181818 605906 0 1.281916826446281e+06 0 2.000098181818182e+08 0 2.002995041322314e+08 <nil>} 1} completed successfully
     0.037ms      0.016ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:154 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s] no more pending changes to process, will call compute changes again
     0.106ms      0.069ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:260 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] rebalanceStores begins
     0.124ms      0.019ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:285 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] cluster means: (stores-load [cpu:4514999999, write-bandwidth:19949999, byte-size:1206975000]) (stores-capacity [cpu:8000000000, write-bandwidth:9223372036854775807, byte-size:263256689984]) (nodes-cpu-load 4514999999) (nodes-cpu-capacity 8000000000)
     0.140ms      0.015ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s1: node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     0.149ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] store s1 was added to shedding store list
     0.159ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s2: node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     0.168ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] store s2 was added to shedding store list
     0.179ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s4: node load loadLow, store load loadLow, worst dim CPURate
     0.190ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s8: node load loadLow, store load loadLow, worst dim CPURate
     0.200ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s3: node load overloadSlow, store load overloadSlow, worst dim CPURate
     0.209ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] store s3 was added to shedding store list
     0.219ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s5: node load loadLow, store load loadLow, worst dim CPURate
     0.230ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s6: node load loadLow, store load loadLow, worst dim CPURate
     0.241ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s7: node load loadLow, store load loadLow, worst dim CPURate
     0.253ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s9: node load loadLow, store load loadLow, worst dim CPURate
     0.262ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] evaluating s10: node load loadLow, store load loadLow, worst dim CPURate
     0.273ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:348 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] sorted shedding stores:
     0.281ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]   (s3: overloadSlow)
     0.289ms      0.007ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]   (s1: overloadUrgent)
     0.296ms      0.007ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]   (s2: overloadUrgent)
     0.307ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:375 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] start processing shedding store s3: cpu node load overloadSlow, store load overloadSlow, worst dim CPURate
     0.372ms      0.065ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:395 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] top-K[CPURate] ranges for s3 with lease on local s3: r137:[cpu:400181301, write-bandwidth:1281188, byte-size:80714880] r145:[cpu:400177809, write-bandwidth:1280707, byte-size:80684544] r132:[cpu:400147190, write-bandwidth:1280524, byte-size:80673024] r81:[cpu:50658888, write-bandwidth:25380, byte-size:1599000] r88:[cpu:50513936, write-bandwidth:25196, byte-size:1587400] r68:[cpu:50513079, write-bandwidth:24677, byte-size:1554700] r8:[cpu:50504666, write-bandwidth:25098, byte-size:1581200] r48:[cpu:50487492, write-bandwidth:25080, byte-size:1580100] r21:[cpu:50447904, write-bandwidth:24911, byte-size:1569400] r28:[cpu:50416349, write-bandwidth:24793, byte-size:1562000] r100:[cpu:50413523, write-bandwidth:25319, byte-size:1595100] r60:[cpu:50341111, write-bandwidth:24841, byte-size:1565000] r40:[cpu:50334349, write-bandwidth:24900, byte-size:1568700]
     0.385ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:409 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] local store s3 is CPU overloaded (overloadSlow >= overloadSlow), attempting lease transfers first
     0.405ms      0.020ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r137 from s3: candidates are [1 2 3]
     0.415ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r137 since store not overloaded relative to candidates
     0.428ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r145 from s3: candidates are [1 3 7]
     0.437ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r145 since store not overloaded relative to candidates
     0.450ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r132 from s3: candidates are [1 2 3]
     0.459ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r132 since store not overloaded relative to candidates
     0.470ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r81 from s3: candidates are [1 2 3]
     0.479ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r81 since store not overloaded relative to candidates
     0.490ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r88 from s3: candidates are [2 3 6]
     0.499ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r88 since store not overloaded relative to candidates
     0.512ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r68 from s3: candidates are [2 3 6]
     0.522ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r68 since store not overloaded relative to candidates
     0.535ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r8 from s3: candidates are [2 3 6]
     0.546ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r8 since store not overloaded relative to candidates
     0.557ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r48 from s3: candidates are [2 3 6]
     0.567ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r48 since store not overloaded relative to candidates
     0.578ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r21 from s3: candidates are [1 2 3]
     0.587ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r21 since store not overloaded relative to candidates
     0.598ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r28 from s3: candidates are [2 3 6]
     0.607ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r28 since store not overloaded relative to candidates
     0.619ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r100 from s3: candidates are [1 2 3]
     0.629ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r100 since store not overloaded relative to candidates
     0.640ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r60 from s3: candidates are [1 2 3]
     0.650ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r60 since store not overloaded relative to candidates
     0.661ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering lease-transfer r40 from s3: candidates are [1 2 3]
     0.671ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:484 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(failed): skipping r40 since store not overloaded relative to candidates
     0.679ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:601 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] attempting to shed replicas next
     0.697ms      0.017ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:688 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] considering replica-transfer r137 from s3: store load [cpu:5115666678, write-bandwidth:26354943, byte-size:1594474008]
     0.707ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:691 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] candidates are:
     0.723ms      0.016ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]  s4: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.736ms      0.014ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]  s5: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.749ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]  s6: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.763ms      0.014ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]  s7: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.776ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]  s8: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.33,0.00(false))
     0.789ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]  s9: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.802ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307]  s10: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.860ms      0.058ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1162 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] candiate store 8 was discarded: sls=(store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.33,0.00(false))
     0.877ms      0.017ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1261 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] sortTargetCandidateSetAndPick: candidates: s4(loadLow) s5(loadLow) s6(loadLow) s7(loadLow) s9(loadLow) s10(loadLow), picked s5
     0.951ms      0.074ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:781 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] result(success): rebalancing r137 from s3 to s5 [change: r137=[change_replicas=[{ADD_VOTER n5,s5} {REMOVE_VOTER n3,s3}] cids=3,4]] with resulting loads source: [cpu:4715485377, write-bandwidth:25073755, byte-size:1513759128] target: [cpu:2556775116, write-bandwidth:11126983, byte-size:676705868]
     0.964ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:785 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s,mmaid=4307] s3 has reached max range move count 1: mma returning with 2 stores left in shedding stores
     0.983ms      0.019ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:166 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s] store 3: computed 1 changes [{{137 [0x14007581a40 0x14007581ae0]} {80714880 199995.5873015873 630585 0 1.2811885714285714e+06 0 1.999955873015873e+08 0 2.001857142857143e+08 <nil>} 0}]
     1.000ms      0.017ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:205 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s] dispatching operation for pendingChange={{137 [0x14007581a40 0x14007581ae0]} {80714880 199995.5873015873 630585 0 1.2811885714285714e+06 0 1.999955873015873e+08 0 2.001857142857143e+08 <nil>} 0}
     1.018ms      0.019ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:143 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:03.000,n3s3,t1m3s] operation for pendingChange={{137 [0x14007581a40 0x14007581ae0]} {80714880 199995.5873015873 630585 0 1.2811885714285714e+06 0 1.999955873015873e+08 0 2.001857142857143e+08 <nil>} 2} is still in progress
