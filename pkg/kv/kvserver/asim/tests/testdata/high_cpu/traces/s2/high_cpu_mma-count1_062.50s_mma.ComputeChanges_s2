     0.000ms      0.000ms    === operation:mma.ComputeChanges gid:1162 _verbose:1 name:high_cpu/mma-count asim: tick:Mar 21 11:01:02.500
     0.019ms      0.019ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:138 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s] operation for pendingChange={{121 [0x14007b1e640 0x14007b1ea00]} {15504000 199963.8347107438 121125 0 256264.46280991734 0 1.999638347107438e+08 0 4.004132231404959e+07 <nil>} 23} completed successfully
     0.031ms      0.011ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:154 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s] no more pending changes to process, will call compute changes again
     0.081ms      0.050ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:260 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] rebalanceStores begins
     0.097ms      0.016ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:285 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] cluster means: (stores-load [cpu:2019180086, write-bandwidth:4360644, byte-size:277695000]) (stores-capacity [cpu:7999999999, write-bandwidth:9223372036854775807, byte-size:274530788194]) (nodes-cpu-load 2019180086) (nodes-cpu-capacity 7999999999)
     0.107ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s7: node load loadLow, store load loadLow, worst dim CPURate
     0.118ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s8: node load loadNormal, store load loadNormal, worst dim CPURate
     0.127ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s9: node load loadLow, store load loadLow, worst dim CPURate
     0.137ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s10: node load loadLow, store load loadLow, worst dim CPURate
     0.148ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s3: node load loadNormal, store load overloadSlow, worst dim WriteBandwidth
     0.157ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] store s3 was added to shedding store list
     0.166ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s5: node load loadLow, store load loadLow, worst dim CPURate
     0.176ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s6: node load loadLow, store load loadLow, worst dim CPURate
     0.186ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s1: node load overloadSlow, store load overloadSlow, worst dim CPURate
     0.194ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] store s1 was added to shedding store list
     0.205ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s2: node load overloadSlow, store load overloadSlow, worst dim CPURate
     0.218ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:316 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] skipping overloaded store s2 (worst dim: CPURate): pending decrease 0.14 >= threshold 0.10 or pending increase 0.00 >= epsilon
     0.227ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] evaluating s4: node load loadLow, store load loadLow, worst dim CPURate
     0.236ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:348 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] sorted shedding stores:
     0.244ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]   (s1: overloadSlow)
     0.251ms      0.007ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]   (s3: overloadSlow)
     0.261ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:375 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] start processing shedding store s1: cpu node load overloadSlow, store load overloadSlow, worst dim CPURate
     0.270ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:398 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] no top-K[CPURate] ranges found for s1 with lease on local s2
     0.280ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:597 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] skipping lease shedding: s1 != local store s2 or cpu is not overloaded: overloadSlow
     0.289ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:601 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] attempting to shed replicas next
     0.297ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:605 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] skipping remote store s1: in lease shedding grace period
     0.307ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:375 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] start processing shedding store s3: cpu node load loadNormal, store load overloadSlow, worst dim WriteBandwidth
     0.324ms      0.016ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:395 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] top-K[WriteBandwidth] ranges for s3 with lease on local s2: r127:[cpu:39990080, write-bandwidth:255936, byte-size:15996032]
     0.333ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:597 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] skipping lease shedding: s3 != local store s2 or cpu is not overloaded: loadNormal
     0.342ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:601 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] attempting to shed replicas next
     0.362ms      0.020ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:688 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] considering replica-transfer r127 from s3: store load [cpu:1943759306, write-bandwidth:5007303, byte-size:318322968]
     0.372ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:691 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] candidates are:
     0.388ms      0.016ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]  s1: (store=overloadSlow worst=CPURate cpu=overloadSlow writes=overloadSlow bytes=loadNormal node=overloadSlow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.401ms      0.014ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]  s4: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.418ms      0.017ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]  s5: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.15,0.00(false))
     0.432ms      0.014ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]  s6: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.445ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]  s7: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.458ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]  s8: (store=loadNormal worst=CPURate cpu=loadNormal writes=loadLow bytes=loadLow node=loadNormal high_disk=false fd=ok, frac_pending=0.13,0.00(false))
     0.471ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441]  s10: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.10,0.00(false))
     0.528ms      0.057ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1162 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] candiate store 5 was discarded: sls=(store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.15,0.00(false))
     0.545ms      0.016ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1162 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] candiate store 10 was discarded: sls=(store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.10,0.00(false))
     0.558ms      0.014ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1261 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] sortTargetCandidateSetAndPick: candidates: s4(loadLow) s6(loadLow) s7(loadLow), picked s6
     0.610ms      0.052ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:781 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] result(success): rebalancing r127 from s3 to s6 [change: r127=[change_replicas=[{ADD_VOTER n6,s6} {REMOVE_VOTER n3,s3}] cids=33,34]] with resulting loads source: [cpu:1903769226, write-bandwidth:4751367, byte-size:302326936] target: [cpu:1851986864, write-bandwidth:3995173, byte-size:242174819]
     0.622ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:785 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s,mmaid=5441] s3 has reached max range move count 1: mma returning with 0 stores left in shedding stores
     0.637ms      0.015ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:166 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s] store 2: computed 1 changes [{{127 [0x140068f1d60 0x140068f1e00]} {15996032 200083.904 124969 0 255936.512 0 2.00083904e+08 0 3.999008e+07 <nil>} 0}]
     0.653ms      0.015ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:205 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s] dispatching operation for pendingChange={{127 [0x140068f1d60 0x140068f1e00]} {15996032 200083.904 124969 0 255936.512 0 2.00083904e+08 0 3.999008e+07 <nil>} 0}
     0.671ms      0.018ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:143 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.500,n2s2,t1m2.5s] operation for pendingChange={{127 [0x140068f1d60 0x140068f1e00]} {15996032 200083.904 124969 0 255936.512 0 2.00083904e+08 0 3.999008e+07 <nil>} 24} is still in progress
