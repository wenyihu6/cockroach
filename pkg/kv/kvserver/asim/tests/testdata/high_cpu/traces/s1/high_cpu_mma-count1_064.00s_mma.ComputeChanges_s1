     0.000ms      0.000ms    === operation:mma.ComputeChanges gid:1197 _verbose:1 name:high_cpu/mma-count asim: tick:Mar 21 11:01:04.000
     0.053ms      0.053ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:138 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s] operation for pendingChange={{116 [0x14006009220 0x140060092c0]} {77476096 200010.11570247935 605282 0 1.2805966280991735e+06 0 2.0001011570247933e+08 0 2.0009322314049587e+08 <nil>} 44} completed successfully
     0.075ms      0.022ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:154 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s] no more pending changes to process, will call compute changes again
     0.151ms      0.075ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:260 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] rebalanceStores begins
     0.191ms      0.041ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:285 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] cluster means: (stores-load [cpu:4435439675, write-bandwidth:19568562, byte-size:1206975000]) (stores-capacity [cpu:8000000000, write-bandwidth:9223372036854775807, byte-size:268212104547]) (nodes-cpu-load 4435439675) (nodes-cpu-capacity 8000000000)
     0.227ms      0.035ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s1: node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     0.239ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] store s1 was added to shedding store list
     0.250ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s5: node load loadLow, store load loadLow, worst dim CPURate
     0.261ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s6: node load loadLow, store load loadLow, worst dim CPURate
     0.272ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s7: node load loadLow, store load loadLow, worst dim CPURate
     0.281ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s8: node load loadLow, store load loadLow, worst dim CPURate
     0.292ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s2: node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     0.300ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] store s2 was added to shedding store list
     0.311ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s3: node load overloadSlow, store load overloadSlow, worst dim CPURate
     0.320ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] store s3 was added to shedding store list
     0.330ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s4: node load loadNormal, store load loadNormal, worst dim CPURate
     0.348ms      0.018ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:323 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] overload-end s4 ((store=loadNormal worst=CPURate cpu=loadNormal writes=loadNormal bytes=loadNormal node=loadNormal high_disk=false fd=ok, frac_pending=0.05,0.06(false))) - load dropped below no-change threshold
     0.360ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s9: node load loadLow, store load loadLow, worst dim CPURate
     0.372ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] evaluating s10: node load loadLow, store load loadLow, worst dim CPURate
     0.382ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:348 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] sorted shedding stores:
     0.390ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458]   (s1: overloadUrgent)
     0.398ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458]   (s2: overloadUrgent)
     0.405ms      0.007ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458]   (s3: overloadSlow)
     0.417ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:375 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] start processing shedding store s1: cpu node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     0.507ms      0.090ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:395 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] top-K[CPURate] ranges for s1 with lease on local s1: r102:[cpu:400469921, write-bandwidth:1282272, byte-size:82065408] r104:[cpu:400369500, write-bandwidth:1282074, byte-size:82052736] r107:[cpu:400160156, write-bandwidth:1281774, byte-size:82033536] r116:[cpu:400158656, write-bandwidth:1280896, byte-size:81977344] r109:[cpu:400150906, write-bandwidth:1281136, byte-size:81992704] r113:[cpu:400042234, write-bandwidth:1280136, byte-size:81928704] r135:[cpu:400023156, write-bandwidth:1280008, byte-size:81920512] r101:[cpu:399955640, write-bandwidth:1279614, byte-size:81895296] r108:[cpu:399941593, write-bandwidth:1280380, byte-size:81944320] r112:[cpu:399926234, write-bandwidth:1279326, byte-size:81876864] r124:[cpu:399841125, write-bandwidth:1279038, byte-size:81858432] r130:[cpu:399797609, write-bandwidth:1278276, byte-size:81809664] r133:[cpu:399741343, write-bandwidth:1278732, byte-size:81838848] r114:[cpu:399660890, write-bandwidth:1277814, byte-size:81780096] r106:[cpu:399609296, write-bandwidth:1277570, byte-size:81764480] r49:[cpu:50510312, write-bandwidth:25132, byte-size:1608500] r1:[cpu:50493718, write-bandwidth:24865, byte-size:1591400] r32:[cpu:50460906, write-bandwidth:25100, byte-size:1606400] r9:[cpu:50341406, write-bandwidth:25000, byte-size:1600000]
     0.521ms      0.015ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:409 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] local store s1 is CPU overloaded (overloadUrgent >= overloadSlow), attempting lease transfers first
     0.543ms      0.021ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] considering lease-transfer r102 from s1: candidates are [1 3 5]
     0.569ms      0.027ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1261 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] sortTargetCandidateSetAndPick: candidates: s3(loadLow) s5(loadLow), picked s5
     0.637ms      0.068ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:566 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] result(success): shedding r102 lease from s1 to s5 [change:r102=[transfer_to=5 cids=59,60]] with resulting loads source:[cpu:9604419460, write-bandwidth:43747045, byte-size:2723795936] target:[cpu:3807967717, write-bandwidth:16168978, byte-size:1055672444] (means: [cpu:6295654199, write-bandwidth:27894537, byte-size:1739133478]) (frac_pending: (src:0.00,target:0.08) (src:0.13,target:0.00))
     0.652ms      0.015ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] considering lease-transfer r104 from s1: candidates are [1 2 3]
     0.674ms      0.023ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1261 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] sortTargetCandidateSetAndPick: candidates: s3(loadLow), picked s3
     0.712ms      0.038ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:566 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] result(success): shedding r104 lease from s1 to s3 [change:r104=[transfer_to=3 cids=61,62]] with resulting loads source:[cpu:9404374022, write-bandwidth:43747045, byte-size:2723795936] target:[cpu:5334530392, write-bandwidth:23767588, byte-size:1437932056] (means: [cpu:7576733218, write-bandwidth:33744521, byte-size:2093083858]) (frac_pending: (src:0.00,target:0.10) (src:0.04,target:0.00))
     0.726ms      0.014ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:480 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] considering lease-transfer r107 from s1: candidates are [1 2 3]
     0.749ms      0.022ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1261 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] sortTargetCandidateSetAndPick: candidates: s3(loadLow), picked s3
     0.787ms      0.038ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:566 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] result(success): shedding r107 lease from s1 to s3 [change:r107=[transfer_to=3 cids=63,64]] with resulting loads source:[cpu:9204491053, write-bandwidth:43747045, byte-size:2723795936] target:[cpu:5554401657, write-bandwidth:23767588, byte-size:1437932056] (means: [cpu:7576733218, write-bandwidth:33744521, byte-size:2093083858]) (frac_pending: (src:0.00,target:0.12) (src:0.09,target:0.00))
     0.799ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:579 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] s1 has reached pending decrease threshold(0.12>=0.10) after lease transfers: done shedding with 16 left in topK
     0.809ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:592 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] skipping replica transfers for s1: done shedding=true, lease_transfers=3
     3.279ms      2.471ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:375 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] start processing shedding store s2: cpu node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     3.328ms      0.049ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:395 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] top-K[CPURate] ranges for s2 with lease on local s1: r104:[cpu:200324062, write-bandwidth:1282074, byte-size:82052736] r107:[cpu:200277187, write-bandwidth:1281774, byte-size:82033536] r109:[cpu:200177500, write-bandwidth:1281136, byte-size:81992704] r108:[cpu:200059375, write-bandwidth:1280380, byte-size:81944320] r101:[cpu:199939687, write-bandwidth:1279614, byte-size:81895296] r112:[cpu:199894687, write-bandwidth:1279326, byte-size:81876864] r130:[cpu:199730625, write-bandwidth:1278276, byte-size:81809664]
     3.342ms      0.014ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:597 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] skipping lease shedding: s2 != local store s1 or cpu is not overloaded: overloadUrgent
     3.352ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:601 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] attempting to shed replicas next
     3.362ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:605 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] skipping remote store s2: in lease shedding grace period
     3.373ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:375 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] start processing shedding store s3: cpu node load overloadSlow, store load overloadSlow, worst dim CPURate
     3.422ms      0.049ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:395 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] top-K[CPURate] ranges for s3 with lease on local s1: r102:[cpu:200355000, write-bandwidth:1282272, byte-size:82065408] r104:[cpu:400369500, write-bandwidth:1282074, byte-size:82052736] r107:[cpu:400160156, write-bandwidth:1281774, byte-size:82033536] r108:[cpu:200059375, write-bandwidth:1280380, byte-size:81944320] r113:[cpu:200021250, write-bandwidth:1280136, byte-size:81928704] r101:[cpu:199939687, write-bandwidth:1279614, byte-size:81895296] r124:[cpu:199849687, write-bandwidth:1279038, byte-size:81858432] r114:[cpu:199658437, write-bandwidth:1277814, byte-size:81780096] r106:[cpu:199620312, write-bandwidth:1277570, byte-size:81764480]
     3.434ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:597 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] skipping lease shedding: s3 != local store s1 or cpu is not overloaded: overloadSlow
     3.442ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:601 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] attempting to shed replicas next
     3.451ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:605 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s,mmaid=5458] skipping remote store s3: in lease shedding grace period
     3.499ms      0.048ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:166 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s] store 1: computed 3 changes [{{102 [0x1400dfa17c0 0x1400dfa1860]} {82065408 200114.921875 641136 0 1.282272e+06 0 2.00114921875e+08 0 2.00355e+08 <nil>} 0} {{104 [0x1400dfa1a40 0x1400dfa1ae0]} {82052736 200045.4375 641037 0 1.282074e+06 0 2.000454375e+08 0 2.003240625e+08 <nil>} 0} {{107 [0x1400dfa1cc0 0x1400dfa1d60]} {82033536 199882.96875 640887 0 1.281774e+06 0 1.9988296875e+08 0 2.002771875e+08 <nil>} 0}]
     3.515ms      0.016ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:205 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s] dispatching operation for pendingChange={{102 [0x1400dfa17c0 0x1400dfa1860]} {82065408 200114.921875 641136 0 1.282272e+06 0 2.00114921875e+08 0 2.00355e+08 <nil>} 0}
     3.534ms      0.019ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:143 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:04.000,n1s1,t1m4s] operation for pendingChange={{102 [0x1400dfa17c0 0x1400dfa1860]} {82065408 200114.921875 641136 0 1.282272e+06 0 2.00114921875e+08 0 2.00355e+08 <nil>} 45} is still in progress
