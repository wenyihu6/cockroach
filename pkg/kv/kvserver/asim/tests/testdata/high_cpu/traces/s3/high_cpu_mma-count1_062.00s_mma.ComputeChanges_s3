     0.000ms      0.000ms    === operation:mma.ComputeChanges gid:1197 _verbose:1 name:high_cpu/mma-count asim: tick:Mar 21 11:01:02.000
     0.021ms      0.021ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:138 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s] operation for pendingChange={{48 [0x14002fe46e0 0x14002fe4780]} {1513400 4995.8677685950415 15134 0 25014.87603305785 0 4.995867768595041e+07 0 500297.52066115703 <nil>} 13} completed successfully
     0.041ms      0.020ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:154 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s] no more pending changes to process, will call compute changes again
     0.110ms      0.069ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:260 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] rebalanceStores begins
     0.130ms      0.020ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:285 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] cluster means: (stores-load [cpu:4435439675, write-bandwidth:19568562, byte-size:1206975000]) (stores-capacity [cpu:8000000000, write-bandwidth:9223372036854775807, byte-size:268212104547]) (nodes-cpu-load 4435439675) (nodes-cpu-capacity 8000000000)
     0.154ms      0.024ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s10: node load loadLow, store load loadLow, worst dim CPURate
     0.166ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s2: node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     0.179ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] store s2 was added to shedding store list
     0.200ms      0.021ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s3: node load loadNoChange, store load overloadSlow, worst dim WriteBandwidth
     0.209ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] store s3 was added to shedding store list
     0.220ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s6: node load loadLow, store load loadLow, worst dim CPURate
     0.229ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s7: node load loadLow, store load loadLow, worst dim CPURate
     0.239ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s8: node load loadLow, store load loadLow, worst dim CPURate
     0.279ms      0.040ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s1: node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     0.291ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] store s1 was added to shedding store list
     0.303ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s4: node load loadNormal, store load loadNoChange, worst dim WriteBandwidth
     0.315ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s5: node load loadLow, store load loadLow, worst dim CPURate
     0.325ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] evaluating s9: node load loadLow, store load loadLow, worst dim CPURate
     0.335ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:348 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] sorted shedding stores:
     0.343ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]   (s3: overloadSlow)
     0.351ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]   (s1: overloadUrgent)
     0.358ms      0.007ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]   (s2: overloadUrgent)
     0.369ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:375 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] start processing shedding store s3: cpu node load loadNoChange, store load overloadSlow, worst dim WriteBandwidth
     0.401ms      0.031ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:395 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] top-K[WriteBandwidth] ranges for s3 with lease on local s3: r137:[cpu:400185145, write-bandwidth:1281189, byte-size:79433728] r136:[cpu:400094777, write-bandwidth:1280327, byte-size:79356928] r132:[cpu:400069677, write-bandwidth:1280099, byte-size:79366144] r103:[cpu:399314307, write-bandwidth:1276215, byte-size:79223168]
     0.423ms      0.022ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:597 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] skipping lease shedding: s3 != local store s3 or cpu is not overloaded: loadNoChange
     0.435ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:601 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] attempting to shed replicas next
     0.461ms      0.025ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:688 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] considering replica-transfer r137 from s3: store load [cpu:4814475882, write-bandwidth:23767588, byte-size:1437932056]
     0.473ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:691 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] candidates are:
     0.493ms      0.019ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]  s4: (store=loadNoChange worst=WriteBandwidth cpu=loadNormal writes=loadNoChange bytes=loadNormal node=loadNormal high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.509ms      0.017ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]  s5: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.524ms      0.015ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]  s6: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.02,0.00(false))
     0.537ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]  s7: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.07,0.00(false))
     0.551ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]  s8: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.02,0.00(false))
     0.562ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]  s9: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.575ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436]  s10: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.670ms      0.095ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1261 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] sortTargetCandidateSetAndPick: candidates: s5(loadLow) s6(loadLow) s7(loadLow) s8(loadLow) s9(loadLow) s10(loadLow), picked s6
     0.774ms      0.104ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:781 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] result(success): rebalancing r137 from s3 to s6 [change: r137=[change_replicas=[{ADD_VOTER n6,s6} {REMOVE_VOTER n3,s3}] cids=27,28]] with resulting loads source: [cpu:4414290737, write-bandwidth:22486399, byte-size:1358498328] target: [cpu:3512407027, write-bandwidth:13801526, byte-size:836815064]
     0.792ms      0.017ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:785 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s,mmaid=5436] s3 has reached max range move count 1: mma returning with 2 stores left in shedding stores
     0.811ms      0.019ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:166 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s] store 3: computed 1 changes [{{137 [0x14005d38780 0x14005d38820]} {79433728 199999.33870967742 620576 0 1.2811891612903227e+06 0 1.9999933870967743e+08 0 2.001858064516129e+08 <nil>} 0}]
     0.828ms      0.017ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:205 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s] dispatching operation for pendingChange={{137 [0x14005d38780 0x14005d38820]} {79433728 199999.33870967742 620576 0 1.2811891612903227e+06 0 1.9999933870967743e+08 0 2.001858064516129e+08 <nil>} 0}
     0.846ms      0.018ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:143 [name=high_cpu/mma-count,asim,tick=Mar 21 11:01:02.000,n3s3,t1m2s] operation for pendingChange={{137 [0x14005d38780 0x14005d38820]} {79433728 199999.33870967742 620576 0 1.2811891612903227e+06 0 1.9999933870967743e+08 0 2.001858064516129e+08 <nil>} 14} is still in progress
