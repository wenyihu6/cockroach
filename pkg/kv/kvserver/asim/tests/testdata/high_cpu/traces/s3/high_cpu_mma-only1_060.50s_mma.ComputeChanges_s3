     0.000ms      0.000ms    === operation:mma.ComputeChanges gid:685 _verbose:1 name:high_cpu/mma-only asim: tick:Mar 21 11:01:00.500
     0.010ms      0.010ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:154 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s] no more pending changes to process, will call compute changes again
     0.063ms      0.053ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:260 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] rebalanceStores begins
     0.079ms      0.017ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:285 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] cluster means: (stores-load [cpu:2114999999, write-bandwidth:4589999, byte-size:231795000]) (stores-capacity [cpu:8000000000, write-bandwidth:9223372036854775807, byte-size:274588163194]) (nodes-cpu-load 2114999999) (nodes-cpu-capacity 8000000000)
     0.091ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s4: node load loadLow, store load loadLow, worst dim CPURate
     0.102ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s5: node load loadLow, store load loadLow, worst dim CPURate
     0.113ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s8: node load loadLow, store load loadLow, worst dim CPURate
     0.122ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s9: node load loadLow, store load loadLow, worst dim CPURate
     0.132ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s10: node load loadLow, store load loadLow, worst dim CPURate
     0.143ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s1: node load overloadUrgent, store load overloadUrgent, worst dim CPURate
     0.160ms      0.017ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:302 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] overload-start s1 ((store=overloadUrgent worst=CPURate cpu=overloadUrgent writes=overloadSlow bytes=loadNormal node=overloadUrgent high_disk=false fd=ok, frac_pending=0.00,0.00(true))) - grace period expired
     0.169ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] store s1 was added to shedding store list
     0.179ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s2: node load overloadSlow, store load overloadSlow, worst dim CPURate
     0.194ms      0.015ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:302 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] overload-start s2 ((store=overloadSlow worst=CPURate cpu=overloadSlow writes=overloadSlow bytes=loadNormal node=overloadSlow high_disk=false fd=ok, frac_pending=0.00,0.00(true))) - grace period expired
     0.202ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] store s2 was added to shedding store list
     0.213ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s3: node load loadNormal, store load overloadSlow, worst dim WriteBandwidth
     0.227ms      0.015ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:302 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] overload-start s3 ((store=overloadSlow worst=WriteBandwidth cpu=loadNormal writes=overloadSlow bytes=loadNormal node=loadNormal high_disk=false fd=ok, frac_pending=0.00,0.00(true))) - grace period expired
     0.236ms      0.009ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:313 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] store s3 was added to shedding store list
     0.246ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s6: node load loadLow, store load loadLow, worst dim CPURate
     0.256ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:295 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] evaluating s7: node load loadLow, store load loadLow, worst dim CPURate
     0.264ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:348 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] sorted shedding stores:
     0.272ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]   (s3: overloadSlow)
     0.280ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]   (s1: overloadUrgent)
     0.287ms      0.007ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:350 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]   (s2: overloadSlow)
     0.298ms      0.011ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:375 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] start processing shedding store s3: cpu node load loadNormal, store load overloadSlow, worst dim WriteBandwidth
     0.327ms      0.029ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:395 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] top-K[WriteBandwidth] ranges for s3 with lease on local s3: r145:[cpu:240192479, write-bandwidth:256933, byte-size:15544448] r137:[cpu:240110247, write-bandwidth:256751, byte-size:15533440] r144:[cpu:240106677, write-bandwidth:256619, byte-size:15525504] r132:[cpu:240051190, write-bandwidth:255902, byte-size:15482112]
     0.337ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:597 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] skipping lease shedding: s3 != local store s3 or cpu is not overloaded: loadNormal
     0.346ms      0.008ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:601 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] attempting to shed replicas next
     0.362ms      0.017ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:688 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] considering replica-transfer r145 from s3: store load [cpu:2155161861, write-bandwidth:6128068, byte-size:309467436]
     0.372ms      0.010ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:691 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] candidates are:
     0.387ms      0.015ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]  s2: (store=overloadSlow worst=CPURate cpu=overloadSlow writes=overloadSlow bytes=loadNormal node=overloadSlow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.401ms      0.014ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]  s4: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.416ms      0.015ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]  s5: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.429ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]  s6: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.442ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]  s8: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.455ms      0.013ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]  s9: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.467ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:693 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295]  s10: (store=loadLow worst=CPURate cpu=loadLow writes=loadLow bytes=loadLow node=loadLow high_disk=false fd=ok, frac_pending=0.00,0.00(true))
     0.528ms      0.060ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:1261 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] sortTargetCandidateSetAndPick: candidates: s4(loadLow) s5(loadLow) s6(loadLow) s8(loadLow) s9(loadLow) s10(loadLow), picked s8
     0.567ms      0.040ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:781 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] result(success): rebalancing r145 from s3 to s8 [change: r145=[change_replicas=[{ADD_VOTER n8,s8} {REMOVE_VOTER n3,s3}] cids=1,2]] with resulting loads source: [cpu:1914969382, write-bandwidth:5871135, byte-size:293922988] target: [cpu:1099350042, write-bandwidth:1798222, byte-size:93636516]
     0.579ms      0.012ms    event:kv/kvserver/allocator/mmaprototype/allocator_state.go:785 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s,mmaid=4295] s3 has reached max range move count 1: mma returning with 2 stores left in shedding stores
     0.596ms      0.017ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:166 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s] store 3: computed 1 changes [{{145 [0x14005fc8dc0 0x14005fc8e60]} {15544448 200046.69421487604 121441 0 256933.02479338844 0 2.0004669421487603e+08 0 4.014578512396694e+07 <nil>} 0}]
     0.611ms      0.015ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:205 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s] dispatching operation for pendingChange={{145 [0x14005fc8dc0 0x14005fc8e60]} {15544448 200046.69421487604 121441 0 256933.02479338844 0 2.0004669421487603e+08 0 4.014578512396694e+07 <nil>} 0}
     0.631ms      0.020ms    event:kv/kvserver/asim/mmaintegration/mma_store_rebalancer.go:143 [name=high_cpu/mma-only,asim,tick=Mar 21 11:01:00.500,n3s3,t1m0.5s] operation for pendingChange={{145 [0x14005fc8dc0 0x14005fc8e60]} {15544448 200046.69421487604 121441 0 256933.02479338844 0 2.0004669421487603e+08 0 4.014578512396694e+07 <nil>} 1} is still in progress
